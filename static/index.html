<!-- TODO: Poner una i para mostrar información de cada botón -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HoneyDash</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/static/assets/Icon.png">
</head>
<body>
    <!-- Top bar with logo and options -->
    <header>
        <div class="header-container">
            <div class="logo-box">
                <a href="/">
                    <img src="/static/assets/Icon.png" alt="HoneyDash Logo" class="logo">
                    <h1 class="title">HoneyDash</h1>
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="/static/index.html"><img src="/static/assets/home.png" style="width: 35px; height: 30px;">Home</a></li>
                    <li><a href="/static/logs.html"><img src="/static/assets/logs.png" style="width: 35px; height: 30px;">Logs</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Contenedor de mensajes informativos -->
    <div id="messages-container" class="messages-container"></div>

    <!-- Contenido principal del dashboard -->
    <main class="dashboard-container">
        <div class="welcome-section">
            <h2>Welcome to HoneyDash</h2>
            <p>Unified platform for honeypot deployment and SIEM integration</p>
        </div>

        <!-- Barra horizontal separatoria de sección con texto -->
        <h2 class="section-title">Honeypots</h2>
        <hr class="section-divider">

        <!-- Sección de tarjetas de servicios -->
        <div class="cards-container">
            <!-- Tarjeta Cowrie -->
            <div class="service-card">
                <div class="card-header">
                    <h3>Cowrie Honeypot</h3>
                    <span class="status-ui" id="cowrie-installed">Checking...</span>
                    <span class="status-ui" id="cowrie-status">Checking...</span>
                    <span class="status-ui" id="cowrie-configured">Checking...</span>
                </div>
                <div class="card-body">
                    <p>SSH/Telnet honeypot for threat detection</p>
                    <div class="card-actions">
                        <div>
                            <button class="btn btn-info" id="cowrie-install-btn" onclick="installCowrie()">Install &#8681;</button>
                            <button class="btn btn-info" id="cowrie-configure-btn" onclick="configureCowrie(), configureSSH()">Configure &#9881;</button>
                            <button class="btn btn-info" onclick="cleanupCowrie()">Restore &#8634;</button>
                        </div>
                        <div>
                            <button class="btn btn-success" id="cowrie-start-btn" onclick="startCowrie()">Start &#9658;</button>
                            <button class="btn btn-danger" id="cowrie-stop-btn" onclick="stopCowrie()">Stop &#9632;</button>
                        </div>
                        <div>
                            <input type="text" id="custom-path" placeholder="Enter custom path" oninput="document.getElementById('set-path-btn').disabled = !this.value.trim(); document.getElementById('set-path-btn').classList.toggle('disabled', !this.value.trim());">
                            <button class="btn btn-secondary" id="set-path-btn" onclick="setCustomPath()">Set Path</button>
                            <button class="btn btn-primary" onclick="checkCowrieStatus()">Check Status</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tarjeta Dionaea -->
            <div class="service-card">
                <div class="card-header">
                    <h3>Dionaea Honeypot</h3>
                    <span class="status-ui" id="dionaea-installed">Checking...</span>
                    <span class="status-ui" id="dionaea-status">Checking...</span>
                </div>
                <div class="card-body">
                    <p>Multi-protocol honeypot for malware collection</p>
                    <div class="card-actions">
                        <div>
                            <button class="btn btn-success" onclick="startDionaea()">Start &#9658;</button>
                            <button class="btn btn-danger" onclick="stopDionaea()">Stop &#9632;</button>
                        </div>
                        <div>
                            <button class="btn btn-primary" onclick="checkDionaeaStatus()">Check Status</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tarjeta DDoSPot -->
            <div class="service-card">
                <div class="card-header">
                    <h3>DDoSPot Honeypot</h3>
                    <span class="status-ui" id="ddospot-installed">Checking...</span>
                    <span class="status-ui" id="ddospot-status">Checking...</span>
                </div>
                <div class="card-body">
                    <p>DDoS attack honeypot for traffic analysis</p>
                    <div class="card-actions">
                        <button class="btn btn-primary" onclick="checkDDoSPotStatus()">Check Status</button>
                        <button class="btn btn-success" onclick="startDDoSPot()">Start &#9658;</button>
                        <button class="btn btn-danger" onclick="stopDDoSPot()">Stop &#9632;</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Barra horizontal separatoria -->
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h2 class="section-title">SIEM</h2>
            <h2 class="section-title" style="text-align: right;">IDS</h2>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <hr class="section-divider" width="49%">
            <hr class="section-divider" width="49%">
        </div>

        <div class="cards-container two-columns">
            <!-- Tarjeta Splunk -->
            <div class="service-card">
                <div class="card-header">
                    <h3>Splunk SIEM</h3>
                    <span class="status-ui" id="splunk-installed">Checking...</span>
                    <span class="status-ui" id="splunk-status">Checking...</span>
                    <span class="status-ui" id="splunk-token">Checking Token...</span>
                </div>
                <div class="card-body">
                    <p>Security Information and Event Management</p>
                    <div class="card-actions">
                        <div>
                            <button class="btn btn-success" id="splunk-start-btn" onclick="startSplunk()">Start &#9658;</button>
                            <button class="btn btn-danger" id="splunk-stop-btn" onclick="stopSplunk()">Stop &#9632;</button>
                        </div>
                        <div>
                            <button class="btn btn-info" id="create-token-btn" onclick="createSplunkToken()">Create Token &#9881;</button>
                            <button class="btn btn-primary" onclick="checkSplunkStatus()">Check Status</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tarjeta Suricata -->
            <div class="service-card-suricata">
                <div class="card-header">
                    <h3>Suricata IDS</h3>
                    <span class="status-ui" id="suricata-installed">Checking...</span>
                    <span class="status-ui" id="suricata-status">Checking...</span>
                </div>
                <div class="card-body">
                    <p>Security Information and Event Management</p>
                    <div class="card-actions">
                        <button class="btn btn-primary" onclick="checkSuricataStatus()">Check Status</button>
                        <button class="btn btn-success" onclick="startSuricata()">Start &#9658;</button>
                        <button class="btn btn-danger" onclick="stopSuricata()">Stop &#9632;</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de respuesta JSON | TODO: ELIMINAR ESTE DIV <- ONLY FOR TESTING!!! -->
        <div class="response-section">
            <h3>API Response</h3>
            <pre id="api-response">Select an action to see the response...</pre>
        </div>
    </main>
    <footer>
        <p>&copy; 2026 HoneyDash. All rights reserved.</p>
    </footer>

    <script src="/static/js/dashboard.js"></script>
</body>
</html>